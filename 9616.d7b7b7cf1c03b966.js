"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9616],{9616:(k,u,h)=>{h.d(u,{L:()=>m});var d=h(1086),p=h(4850),l=h(9863),E=h(520),_=h(6401);let m=(()=>{class c{constructor(e,s){this.http=e,this.user=s}load(){return this.data?(0,d.of)(this.data):this.http.get("assets/data/data.json").pipe((0,p.U)(this.processData,this))}processData(e){return this.data=e,this.data.schedule.forEach(s=>{s.groups.forEach(n=>{n.sessions.forEach(a=>{a.speakers=[],a.speakerNames&&a.speakerNames.forEach(r=>{const t=this.data.speakers.find(i=>i.name===r);t&&(a.speakers.push(t),t.sessions=t.sessions||[],t.sessions.push(a))})})})}),this.data}getTimeline(e,s="",n=[],a="all"){return this.load().pipe((0,p.U)(r=>{const t=r.schedule[e];t.shownSessions=0;const i=(s=s.toLowerCase().replace(/,|\.|-/g," ")).split(" ").filter(o=>!!o.trim().length);return t.groups.forEach(o=>{o.hide=!0,o.sessions.forEach(f=>{this.filterSession(f,i,n,a),f.hide||(o.hide=!1,t.shownSessions++)})}),t}))}filterSession(e,s,n,a){let r=!1;s.length?s.forEach(o=>{e.name.toLowerCase().indexOf(o)>-1&&(r=!0)}):r=!0;let t=!1;e.tracks.forEach(o=>{-1===n.indexOf(o)&&(t=!0)});let i=!1;"favorites"===a?this.user.hasFavorite(e.name)&&(i=!0):i=!0,e.hide=!(r&&t&&i)}getSpeakers(){return this.load().pipe((0,p.U)(e=>e.speakers.sort((s,n)=>{const a=s.name.split(" ").pop(),r=n.name.split(" ").pop();return a.localeCompare(r)})))}getTracks(){return this.load().pipe((0,p.U)(e=>e.tracks.sort()))}getMap(){return this.load().pipe((0,p.U)(e=>e.map))}getNatresources(){return this.load().pipe((0,p.U)(e=>e.natresources.sort()))}}return c.\u0275fac=function(e){return new(e||c)(l.LFG(E.eN),l.LFG(_.m))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);